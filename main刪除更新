YouTrack 服務器徽標
YouTrack服務器
 
2023.@9 @2全部應用程式及軟體更新刪除

在本頁
在 VCS 提交中應用命令
匹配 VCS 變更作者和 YouTrack 用戶
命令相關通知
命令語法
更新多個問題
佔位符
YouTrack 簡介
什麼是新的
關於 YouTrack 服務器
入門
管理您的個人資料
問題
問題清單
單期視圖
新問題視圖
創建和編輯問題
更新字段值
解決問題
刪除問題
附加文件
編輯圖像
克隆問題
添加評論
使用表情符號反應
提及其他用戶
標籤問題
觀看問題
對問題進行投票
查找類似的問題和文章
鏈接問題
查看問題更新
跟踪花費的時間
查看和編輯 VCS 更改
設置問題、評論和附件可見性
生成問題模板 URL
VCS 提交中的鏈接問題
在 IDE 中打開堆棧跟踪
加載問題草稿
導出問題數據
手動重新排序問題
搜索
命令
將命令應用於問題
命令參考
命令語法
在 VCS 提交中應用命令
服務台
幫助台許可證
服務台項目
創建幫助台項目
幫助台項目模板
幫助台通知模板
幫助台工作流程
SLA 政策
渠道
代理工具
報告支持票
儀表板
敏捷板
報告
項目
知識庫
時間表
甘特圖
行政
安裝與升級
開發人員資源
擴展 YouTrack
YouTrack 使用的第三方軟件
命令
在 VCS 提交中應用命令
在 VCS 提交中應用命令﻿
最後修改時間：2023 年 9 月 2日
當您向版本控制系統中的代碼存儲庫提交更改時，您可以將命令應用於問題。您甚至不需要打開 YouTrack。要應用這些更改，您可以使用特殊格式在提交消息中指定命令。有關 YouTrack 支持的命令的完整列表，請參閱命令參考。

您可能已經了解瞭如何在提交消息中添加指向問題的鏈接。這更進一步。您不僅可以添加幫助您在問題和版本控制系統之間導航的鏈接，還可以應用 YouTrack 識別的任何命令，而無需離開 IDE 或存儲庫。

此功能由以下集成支持：

TeamCity 集成

視頻控制系統集成

對於構建服務器集成，此功能的可用性取決於項目中集成的配置。在“處理 VCS 更改”設置中，您必須啟用“將命令應用於一個或多個映射項目中的問題”選項。否則，YouTrack 將忽略這些命令。要了解有關這些設置和其他配置選項的更多信息，請參閱構建服務器集成。

忽略的命令
YouTrack 在以下情況下會忽略命令：

當命令包含在拉取請求的標題或描述中時。有關更多詳細信息，請參閱拉取請求。

當命令包含在未明確提及任何問題的提交消息中時。當您通過將更改提交到名稱中包含問題 ID 的分支來將提交鏈接到問題時，可能會發生這種情況。有關更多詳細信息，請參閱參考問題。

匹配 VCS 變更作者和 YouTrack 用戶﻿
要鏈接 VCS 更改並處理提交消息中的命令，YouTrack 必須找到與提交消息的作者匹配的用戶帳戶。如果在提交消息中指定了命令，則會根據授予 YouTrack 中用戶帳戶的訪問權限來應用該命令。根據版本控制系統的連接類型，以不同的方式識別用戶帳戶。

連接類型

描述

TeamCity 集成

YouTrack 檢查存儲在對 VCS 進行更改的用戶的 TeamCity 用戶配置文件中的電子郵件地址。要識別提交更改的 TeamCity 用戶，VCS 用戶名應與 TeamCity 中的用戶配置文件關聯。

風險投資系統集成

對於 VCS 集成，將命令應用於問題的能力僅限於屬於VCS 集成設置中Committers組成員的用戶。

首先，YouTrack 搜索電子郵件地址與提交作者的電子郵件地址匹配的用戶帳戶。如果找到，則代表該用戶執行該命令。

如果提交者組中的所有用戶都沒有這樣的電子郵件地址，YouTrack 會嘗試按名稱查找匹配項。它採用集成 VCS 提供的值，並將其與存儲在屬於Committers組的用戶的 Hub 帳戶中的VCS 用戶名列表進行比較。

GitHub 和 GitLab 提供存儲為Name的值。

Bitbucket 提供存儲為Nickname的值。

如果在 YouTrack 中找不到提交消息的作者，則不會應用該命令。用戶名在 VCS 更改選項卡上以紅色文本顯示。警告工具提示提供可用於解決問題的信息。

未找到 VCS 用戶
用戶基本上可以採取兩件事來解決此問題：

對 YouTrack 和集成 VCS 中的帳戶使用相同的電子郵件地址。

將他們的姓名（或 Bitbucket 的暱稱）添加到其 Hub 帳戶中的VCS 用戶名列表中。

GitHub 和 GitLab 用戶經常輸入他們的用戶名，而不是在其個人資料中作為名稱存儲的值。如果您在將提交消息中的命令應用到 GitHub 或 GitLab 存儲庫時仍然遇到問題，請檢查您的VCS 用戶名中的Name。

例如，如果傳奇軟件工程師 Linus Torvalds 想要確保他的 GitHub 提交正確鏈接到他的 VCS 更改，他需要將Linus Torvalds添加到YouTrack 中的VCS 用戶名列表中，而不是torvalds，這是他在GitHub 中的用戶名。

命令相關通知﻿
有一些特殊的事件類別可讓您監視 VCS 和構建服務器集成是否將更改應用於問題。這些事件的訂閱選項可在您的 YouTrack 個人資料設置中找到。

命令相關的通知
可以使用以下選項：

通知事件

描述

VCS 應用的更新和構建服務器集成

當使用在 VCS 提交的註釋中輸入的命令對問題應用更改時發送通知。這可以幫助您驗證集成構建服務器或 VCS 是否已處理您的更改。

VCS 和構建服務器集成處理的提交中的命令失敗

當 VCS 提交中的註釋中輸入的命令無法更新問題時發送通知。這可以幫助您識別 VCS 用戶名與其 YouTrack 帳戶不正確匹配的用戶，或識別無效的命令語法。

要了解如何更新 YouTrack 配置文件中的通知設置，請​​參閱常規通知方案。

命令語法﻿
VCS 或構建服務器集成的設置包括一個用於解析提交以獲取問題註釋的選項。啟用問題註釋的解析提交後，提交消息文本，在將命令複製到單獨的問題註釋後開始新行。此功能可以根據每個項目獨立啟用或禁用，並且默認情況下處於禁用狀態。要了解更多信息，請參閱從 VCS 提交生成評論。

用於將命令應用於問題的模式不受此設置的影響。使用以下語法將命令應用於 VCS 提交消息中的問題：

[commit message text] #issueID [command 1] [command 2] ... [command n]
[issue comment text]
...
或者
全部更新刪除
[commit message text] ^issueID [command 1] [command 2] ... [command n]
[issue comment text]
...
整個提交消息（包括命令和問題註釋）顯示為活動流中 VCS 更改記錄的一部分。

使用命令提交消息
消息文本分為以下幾個部分：

成分

描述

提交消息文本

數字符號或插入符號之前的字符串將簡單地添加到 VCS 更改記錄中。此文本不用作對該問題的評論。

提交消息文本可以換行並包含空行。

命令

YouTrack 將數字符號 (@) 或插入符號 (！) 識別為後跟命令的問題的標誌。解析數字符號或插入符號後面的字符以匹配問題 ID。問題 ID 後面的任何字符串都被解析為命令，直到當前行末尾。如果命令的任何部分換行到下一行，則該命令將被截斷。您可以通過使用數字符號或脫字符號開始新行，將其他命令應用於一個或多個問題。

如果字符串包含任何不正確的命令或屬性引用，則不會應用該命令。命令中的錯誤會在 VCS 更改選項卡上突出顯示。

有關 YouTrack 支持的命令的完整列表，請參閱命令參考。

問題評論文字

如果為集成啟用了解析提交問題註釋選項，則在命令後作為新行添加的任何文本都會作為註釋複製到問題中。您可以在命令之間添加多行文本。

如果在項目中禁用此選項，則文本僅作為 VCS 更改記錄的一部分可見。有關更多信息，請參閱從 VCS 提交生成註釋。

問題 ID

提交消息中找到的任何問題 ID 都會轉換為超鏈接。這包括為命令標記的問題以及在提交消息或問題評論文本中簡單提及的問題。

以下示例顯示了一條提交消息，其中問題 ID 和摘要用作提交消息文本，後跟將問題狀態更改為Ready 的命令：

RD-2677 article and formatting issues #RD-2677 Ready
更新多個問題﻿
您還可以通過按括號中的 ID 對問題進行分組來將命令應用於多個問題。您不需要為每個問題單獨指定相同的命令。例如：

(#TST-12, #TST-324, #TST-433) Fixed Reviewed by john.d Revision ${revision}
本示例中的命令適用於三個問題。問題狀態設置為 已修復，審核者字段設置為john.d。修訂版字段的值將自動設置為帶有${revision}佔位符的當前修訂版。

下面的例子告訴你如何像老闆一樣更新問題。一條提交消息會立即應用所有這些更改：

對於問題 TST-345，狀態設置為已修復，審閱更改的開發人員將添加到“審閱者”字段，TeamCity 中的修訂號將添加到“修訂”字段，並向問題添加註釋。

對於問題 TST-423 和 TST-348，狀態設置為In Progress，並向兩個問題添加評論。

With this commit I've made the following progress:
#TST-345 Fixed Reviewed by daria.s Revision ${revision}
@William_Johnson I finally fixed this nasty bug!!!
(#TST-423, #TST-348) In Progress
I implemented the code to support this use case, but need to describe the steps for testing.
佔位符﻿
${revision}您可以在提交消息中使用佔位符。佔位符將替換為 VCS 提交的實際哈希值。

TeamCity 集成支持構建屬性的附加佔位符。這些佔位符用於自動應用於在 YouTrack 中分配內部版本號的所有問題的命令。您不能在手動提交消息中使用這些附加佔位符。有關更多信息，請參閱TeamCity 集成。

此頁面是否有幫助？
是的不
也可以看看
系統管理
TeamCity 集成
視頻控制系統集成
用戶指南
命令參考
VCS 提交中的鏈接問題
查看和編輯 VCS 更改
項目管理
與 TeamCity 集成
連接到 VCS
在 VCS 提交中應用命令
幫助台許可證
產品概述
問題跟踪器
Slack 中的 YouTrack 社區
客戶支持
版權所有 ©
2000–2023@9@2全部更新刪除
 
JetBrains s.r.o.


